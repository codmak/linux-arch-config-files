# ~/.zshrc
# Description : Lean, keyboard-oriented Zsh config with Oh-My-Zsh integration
# Author      : codmak
# Date        : 2025-08-04
# Version     : 1.0

# ------------------------------
# History
# ------------------------------

HISTFILE="$HOME/.zsh_history"
HISTSIZE=1000
SAVEHIST=1000

setopt hist_ignore_dups       # Ignore consecutive duplicates
setopt share_history          # Sync history across terminals

# ------------------------------
# Shell Behavior
# ------------------------------

setopt correct                # Suggest command corrections
setopt autocd                 # Enable 'autocd'

# ------------------------------
# Built-in utilities
# ------------------------------

autoload -Uz zmv              # Batch renamer

# ------------------------------
# Oh-My-Zsh (Optional Framework)
# ------------------------------

ZSH="$HOME/.oh-my-zsh"
if [[ -f "$ZSH/oh-my-zsh.sh" ]]; then
  export ZSH_THEME="custom"
  plugins=(vi-mode zsh-autosuggestions)
  source "$ZSH/oh-my-zsh.sh"
fi

# ------------------------------
# Custom Extensions
# ------------------------------

[[ -f "$HOME/.bash_aliases" ]] && source "$HOME/.bash_aliases"
[[ -f "$HOME/.bash_func"   ]] && source "$HOME/.bash_func"

# ------------------------------
# Auto-start Tmux if not in it
# ------------------------------

if [[ -z "$TMUX" && $TERM != "screen" && -n "$DISPLAY" ]]; then
  exec tmux
fi
